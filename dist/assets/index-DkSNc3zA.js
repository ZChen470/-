import{r as x,D as g,E as S,F as G,B as v,q as y,G as n,H as a,y as V,I as p,J as e,a as J,L as W,M as D,N as Q,f as X,O as k,P as T,Q as L,w as Y,x as C,K as Z,R as ee,i as b,S as te,U as ae,p as oe}from"./@vue-HJy6yETU.js";import{d as U,m as se,E as le,t as ne}from"./quasar-DGJ4ETvE.js";import{c as re,a as ce}from"./vue-router-BE74E5pN.js";import{F as B}from"./file-saver-BCxzAtLx.js";import{a as F}from"./axios-DBFezj-0.js";/* empty css                */(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))_(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&_(d)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function _(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}})();const ie={class:"welcom text-h1 text-weight-bolder"},de=y({name:"AppHome"}),_e=Object.assign(de,{setup(i){let c=x("Welcome! ^_^");return(l,_)=>(g(),S("div",ie,G(v(c)),1))}}),pe={class:"q-pa-md"},ue=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"Dessert (100g serving)"),e("th",{class:"text-right"},"Calories"),e("th",{class:"text-right"},"Fat (g)"),e("th",{class:"text-right"},"Carbs (g)"),e("th",{class:"text-right"},"Protein (g)"),e("th",{class:"text-right"},"Sodium (mg)")])],-1),me=e("tbody",null,[e("tr",null,[e("td",{class:"text-left"},"Frozen Yogurt"),e("td",{class:"text-right"},"159"),e("td",{class:"text-right"},"6"),e("td",{class:"text-right"},"24"),e("td",{class:"text-right"},"4"),e("td",{class:"text-right"},"87")]),e("tr",null,[e("td",{class:"text-left"},"Ice cream sandwich"),e("td",{class:"text-right"},"237"),e("td",{class:"text-right"},"9"),e("td",{class:"text-right"},"37"),e("td",{class:"text-right"},"4.3"),e("td",{class:"text-right"},"129")]),e("tr",null,[e("td",{class:"text-left"},"Eclair"),e("td",{class:"text-right"},"262"),e("td",{class:"text-right"},"16"),e("td",{class:"text-right"},"23"),e("td",{class:"text-right"},"6"),e("td",{class:"text-right"},"337")]),e("tr",null,[e("td",{class:"text-left"},"Cupcake"),e("td",{class:"text-right"},"305"),e("td",{class:"text-right"},"3.7"),e("td",{class:"text-right"},"67"),e("td",{class:"text-right"},"4.3"),e("td",{class:"text-right"},"413")]),e("tr",null,[e("td",{class:"text-left"},"Gingerbread"),e("td",{class:"text-right"},"356"),e("td",{class:"text-right"},"16"),e("td",{class:"text-right"},"49"),e("td",{class:"text-right"},"3.9"),e("td",{class:"text-right"},"327")])],-1),fe=y({name:"AppTable"}),ge=Object.assign(fe,{setup(i){let c=x("vertical"),l=[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Cell",value:"cell"},{label:"None",value:"none"}];return(_,t)=>{const r=n("q-option-group"),d=n("q-markup-table");return g(),S("div",pe,[a(r,{modelValue:v(c),"onUpdate:modelValue":t[0]||(t[0]=o=>V(c)?c.value=o:c=o),inline:"",class:"q-mb-md",options:v(l)},null,8,["modelValue","options"]),a(d,{separator:v(c),flat:"",bordered:""},{default:p(()=>[ue,me]),_:1},8,["separator"])])}}}),he={class:"container"},ve=y({name:"GalaxyNav"}),xe=y({...ve,setup(i){const c=[{icon:"image",label:"单图像",router:"GalSPic",separator:!1},{icon:"add_photo_alternate",label:"多图像",router:"GalMPic",separator:!0},{icon:"location_pin",label:"单坐标",router:"GalSCoo",separator:!1},{icon:"add_location_alt",label:"多坐标",router:"GalMCoo",separator:!0}];let l=x("");return J(()=>{l.value="单图像"}),(_,t)=>{const r=n("q-icon"),d=n("q-item-section"),o=n("q-item"),h=n("q-separator"),u=n("q-list"),q=n("q-scroll-area"),w=n("q-drawer"),$=n("router-view"),j=W("ripple");return g(),S(D,null,[a(w,{"show-if-above":"",width:180,breakpoint:500,bordered:"",elevated:"",class:"drawer-container"},{default:p(()=>[a(q,{class:"fit"},{default:p(()=>[a(u,null,{default:p(()=>[(g(),S(D,null,Q(c,(m,f)=>(g(),S(D,{key:f},[X((g(),k(o,{clickable:"",active:m.label===v(l),onClick:s=>V(l)?l.value=m.label:l=m.label,to:{path:m.router}},{default:p(()=>[a(d,{avatar:""},{default:p(()=>[a(r,{name:m.icon},null,8,["name"])]),_:2},1024),a(d,null,{default:p(()=>[T(G(m.label),1)]),_:2},1024)]),_:2},1032,["active","onClick","to"])),[[j]]),m.separator?(g(),k(h,{key:"sep"+f})):L("",!0)],64))),64))]),_:1})]),_:1})]),_:1}),e("div",he,[a($)])],64)}}}),P=(i,c)=>{const l=i.__vccOpts||i;for(const[_,t]of c)l[_]=t;return l},be=P(xe,[["__scopeId","data-v-313c77db"]]),ye={class:"container"},qe={class:"row items-start shadow-4 q-pa-sm q-gutter-md content-box"},we={class:"text-h4 text-orange-9"},$e={class:"text-h6 q-mt-sm q-mb-sm"},Ce={class:"q-mt-sm text-body1"},Se=["src"],je={class:"text-h6"},Ge={class:"text-subtitle2"},ke=y({name:"AppGalaxy"}),Oe=Object.assign(ke,{setup(i){const c=U();let l=x("category"),_=x("0.00%"),t=x("xxx"),r=x(""),d=x(""),o=x(""),h=x(""),u=x([]);const q="http://59.110.67.30:8080/predict",w="http://59.110.67.30:8080/coord_csv",$="http://59.110.67.30:8080/coord",j=()=>{let s=`${l.value}
${_.value}
${t.value}`;navigator.clipboard.writeText(s),navigator.clipboard.writeText(s).then(()=>{c.dialog({title:"提示",message:"已成功复制到粘贴板"}).onOk(()=>{}).onCancel(()=>{}).onDismiss(()=>{})})},m=[{name:"ra",required:!0,label:"RA",align:"left",field:s=>s.ra,sortable:!0},{name:"dec",label:"DEC",field:"dec"},{name:"main_id",label:"Main_ID",field:"main_id"},{name:"rvz_redshift",label:"Redshift",field:"rvz_redshift"},{name:"otype",label:"otype",field:"otype"},{name:"morph",label:"morph",field:"morph"},{name:"galdim_majaxis",label:"galdim_majaxis",field:"galdim_majaxis"}];let f=[];Y(u,()=>{r.value="",d.value="",o.value="",h.value="",f=[];for(const s of u.value){let O={ra:s.ra,dec:s.dec,main_id:s.main_id,rvz_redshift:s.rvz_redshift,otype:s.otype,morph:s.morph,galdim_majaxis:s.galdim_majaxis};f.push(O)}});for(const s of u.value){let O={ra:s.ra,dec:s.dec,main_id:s.main_id,rvz_redshift:s.rvz_redshift,otype:s.otype,morph:s.morph,galdim_majaxis:s.galdim_majaxis};row.push(O)}return C("category",l),C("conf",_),C("desc",t),C("profile",r),C("source",d),C("name",o),C("imageBase64",h),C("uploadImageUrl",q),C("uploadCoordUrl",w),C("coordUrl",$),C("info_table",u),(s,O)=>{const N=n("q-separator"),z=n("q-card-section"),M=n("q-btn"),E=n("q-space"),H=n("q-card-actions"),R=n("q-card"),K=n("q-table");return g(),S("div",ye,[a(be,{class:"fixed-nav"}),e("div",qe,[a(R,{class:"my-card",flat:"",bordered:""},{default:p(()=>[a(z,null,{default:p(()=>[e("div",we,G(v(l)),1),e("div",$e,"置信度 "+G(v(_)),1),a(N,{color:"orange",inset:""}),e("div",Ce,G(v(t)),1)]),_:1}),a(H,null,{default:p(()=>[a(M,{flat:"",color:"dark",label:"Share"}),a(M,{flat:"",color:"primary",label:"Copy",onClick:j}),a(E)]),_:1})]),_:1}),a(R,{class:"my-card"},{default:p(()=>[v(h)?(g(),S("img",{key:0,src:v(h)},null,8,Se)):L("",!0),a(z,null,{default:p(()=>[e("div",je,G(v(o)),1),e("div",Ge,G(v(d)),1)]),_:1}),a(z,{class:"q-pt-none text-body1"},{default:p(()=>[T(G(v(r)),1)]),_:1}),v(u).length>0&&!v(r)?(g(),k(K,{key:1,grid:"",title:"搜索结果",rows:v(f),columns:m,"row-key":"name",filter:s.filter,"rows-per-page-options":[2],"card-container-class":"q-ml-sm","card-container-style":{width:"660px"},"card-class":"bg-cyan-8 text-white text-weight-bold","card-style":{width:"150px"},"hide-header":""},null,8,["rows","filter"])):L("",!0)]),_:1})])])}}}),Ue=P(Oe,[["__scopeId","data-v-b0176d10"]]),Pe=e("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1),Ae=y({name:"AppLayout"}),ze=Object.assign(Ae,{setup(i){const c=U(),l=x(!1),_=()=>{l.value=!l.value},t=x("Home"),r={Home:_e,Table:ge,File:Ue},d=x("light_mode"),o=()=>{d.value=d.value==="light_mode"?"dark_mode":"light_mode",c.dark.toggle()};return(h,u)=>{const q=n("q-btn"),w=n("q-avatar"),$=n("q-toolbar-title"),j=n("q-toolbar"),m=n("q-tab"),f=n("q-tabs"),s=n("q-header"),O=n("q-page-container"),N=n("q-layout");return g(),k(N,{view:"hHh LpR fFf"},{default:p(()=>[a(s,{elevated:"",class:"bg-cyan-8 text-white","height-hint":"98"},{default:p(()=>[a(j,null,{default:p(()=>[a(q,{dense:"",flat:"",round:"",icon:"menu",onClick:_}),a($,{class:"text-h4"},{default:p(()=>[a(w,null,{default:p(()=>[Pe]),_:1}),T(" Hoshino Ai ")]),_:1}),a(q,{flat:"",round:"",dense:"",icon:d.value,onClick:o},null,8,["icon"])]),_:1}),a(f,{class:"text-h5",align:"left",modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=z=>t.value=z)},{default:p(()=>[a(m,{name:"Form",icon:"fa-galaxy",label:"主页"}),a(m,{name:"File",icon:"fa-galaxy",label:"星系分类"})]),_:1},8,["modelValue"])]),_:1}),a(O,null,{default:p(()=>[(g(),k(Z,null,[(g(),k(ee(r[t.value])))],1024))]),_:1})]),_:1})}}}),Fe=y({__name:"App",setup(i){return(c,l)=>(g(),k(ze))}}),Ie={class:"q-mt-xl column items-start shadow-4 single-picture"},Ne=y({name:"GalaxySinglePicture"}),De=y({...Ne,setup(i){const c=U();let l=x("data:image/jpeg;base64,"),_=b("category"),t=b("uploadImageUrl"),r=b("conf"),d=b("desc"),o=b("profile"),h=b("source"),u=b("name"),q=b("imageBase64");const w=m=>({url:t,headers:[{name:"Accept",value:"application/json"}],fieldName:"files",method:"POST"}),$=m=>{const f=JSON.parse(m.xhr.response);_.value=f.category,r.value=f.confidence,d.value=f.description,u.value=f.represent.name,o.value=f.represent.profile,h.value=f.represent.source,q.value=`${l.value}${f.image}`};function j(m){c.notify({type:"negative",message:`${m.length} file(s) did not pass validation constraints`})}return(m,f)=>{const s=n("q-uploader");return g(),S("div",Ie,[a(s,{class:"qup",label:"上传单张星系图像(≤10M)",factory:w,onUploaded:$,multiple:"","max-file-size":"10485760","max-files":"1",accept:".jpg, .jpeg, .png",onRejected:j,bordered:"",color:"cyan-8"})])}}}),Le=P(De,[["__scopeId","data-v-fb8f781a"]]),Te={class:"q-mt-xl column items-start shadow-4 multi-picture"},Me=y({name:"GalaxySinglePicture"}),Re=y({...Me,setup(i){const c=U();let l=b("uploadImageUrl");const _=o=>{o.xhr.responseType="blob"},t=o=>({url:l,headers:[{name:"Accept",value:"application/json"}],fieldName:"files",method:"POST"}),r=o=>{let h=o.xhr.response;B.saveAs(h,"images.zip")};function d(o){c.notify({type:"negative",message:`${o.length} file(s) did not pass validation constraints`})}return(o,h)=>{const u=n("q-uploader");return g(),S("div",Te,[a(u,{label:"多幅图像类别标注(≤20×1M)",factory:t,onUploaded:r,onUploading:_,multiple:"","max-file-size":"1048576","max-files":"20",accept:".jpg, jpeg, .png",batch:"",onRejected:d,"no-thumbnails":"",bordered:"",color:"cyan-8"})])}}}),Ve=P(Re,[["__scopeId","data-v-166fb5cd"]]),Be=i=>(te("data-v-f0881c39"),i=i(),ae(),i),Ee={class:"q-pa-md column single-coord"},He=Be(()=>e("div",{id:"aladin-lite-div",style:{width:"420px",height:"420px","margin-bottom":"10px"}},null,-1)),Ke=y({name:"GalaxySingelCoord"}),Je=Object.assign(Ke,{setup(i){const c=U(),l=x(!1);let _=b("category"),t=b("conf"),r=b("desc"),d=b("info_table"),o;A.init.then(()=>{o=A.aladin("#aladin-lite-div",{target:"NGC 1365",cooFrame:"ICRS",survey:"P/DESI-Legacy-Surveys/DR10/color",fov:.5})});const h=async()=>{l.value=!0;const u=o.getRaDec(),q=u[0],w=u[1],$=o.getFov()[0],j=parseInt(o.getSize()[0]),f=o.getBaseImageLayer().creatorDid;c.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"提交成功",position:"top"});const s=await F({url:"/coord",headers:{"Content-Type":"application/json"},method:"POST",data:{ra:q,dec:w,fov:$,size:j,surveyid:f}});l.value=!1,_.value=s.category,t.value=s.confidence,r.value=s.description,d.value=s.info_table};return(u,q)=>{const w=n("q-spinner-facebook"),$=n("q-btn");return g(),S("div",Ee,[He,e("div",null,[a($,{color:"cyan-8",label:"获取类别",loading:l.value,onClick:h,style:{width:"120px"}},{loading:p(()=>[a(w)]),_:1},8,["loading"])])])}}}),We=P(Je,[["__scopeId","data-v-f0881c39"]]),Qe={class:"q-mt-xl column items-start shadow-4 multi-coord"},Xe=y({name:"GalaxyMultiCoord"}),Ye=y({...Xe,setup(i){const c=U();let l=b("uploadCoordUrl");const _=o=>{o.xhr.responseType="blob"},t=o=>({url:l,headers:[{name:"Accept",value:"application/json"}],fieldName:"file",method:"POST"}),r=o=>{let h=o.xhr.response;B.saveAs(h,"images.zip")};function d(o){c.notify({type:"negative",message:`${o.length} file(s) did not pass validation constraints`})}return(o,h)=>{const u=n("q-uploader");return g(),S("div",Qe,[a(u,{label:"上传星系坐标csv",factory:t,onUploaded:r,onUploading:_,multiple:"","max-file-size":"1048576","max-files":"1",accept:".csv",batch:"",onRejected:d,"no-thumbnails":"",bordered:"",color:"cyan-8"})])}}}),Ze=P(Ye,[["__scopeId","data-v-cd79fbfb"]]),et=re({history:ce(),routes:[{path:"/GalSPic",component:Le},{path:"/GalMPic",component:Ve},{path:"/GalSCoo",component:We},{path:"/GalMCoo",component:Ze}]});F.interceptors.request.use(i=>(i.baseURL="http://59.110.67.30:8080",i));F.interceptors.response.use(i=>(console.log("响应成功"),i.data),i=>(console.log("响应失败",i),new Promise(()=>{})));const I=oe(Fe);I.use(et);I.use(F);I.use(se,{plugins:{Dialog:le,Notify:ne}});I.mount("#app");
